<main class="container size-full flex flex-col gap-8 py-8">
  <h2>제작 요청</h2>

  <label class="input w-full">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="32"
      height="32"
      viewBox="0 0 24 24"
    >
      <!-- Icon from Google Material Icons by Material Design Authors - https://github.com/material-icons/material-icons/blob/master/LICENSE -->
      <path
        fill="currentColor"
        d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 0 0 1.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 0 0-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 0 0 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0s.41-1.08 0-1.49zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5S14 7.01 14 9.5S11.99 14 9.5 14"
      />
    </svg>
    <input
      type="search"
      placeholder="검색어를 입력하세요."
      class="w-full"
      [(ngModel)]="query"
    />
  </label>

  <div class="w-full overflow-x-auto hidden sm:block">
    <table class="table hidden w-full">
      <thead>
        <tr>
          <th>상태</th>
          <th>이름</th>
          <th>이메일</th>
          <th>등록일</th>
        </tr>
      </thead>
      <tbody>
        @for (request of soundRequests(); track request.id) {
          <tr
            [routerLink]="request.id"
            class="hover:bg-base-200 transition-colors cursor-pointer"
          >
            <td>
              <span class="badge badge-soft">{{ request.status }}</span>
            </td>
            <td>{{ request.name }}</td>
            <td>{{ request.email }}</td>
            <td>{{ request.created_at | date: "medium" }}</td>
          </tr>
        }
      </tbody>
    </table>
  </div>

  <div class="flex sm:hidden flex-col gap-4">
    @for (request of soundRequests(); track request.id) {
      <a
        [routerLink]="request.id"
        class="card card-compact card-bordered bg-base-200/50 hover:bg-base-200/80 transition-colors"
      >
        <div class="card-body">
          <div class="flex justify-between items-center mb-2">
            <span class="badge badge-soft">{{ request.status }}</span>
            <span class="text-sm">
              {{ request.created_at | date: "medium" }}
            </span>
          </div>
          <h3 class="card-title">{{ request.name }}</h3>
          <p class="text-sm">{{ request.email }}</p>
        </div>
      </a>
    }
  </div>
</main>
